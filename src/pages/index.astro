---
import Base from "../layouts/Base.astro";
import { getAllProjects } from "../lib/projects";

// Load all project content
const allProjects = getAllProjects();

// Featured projects (for the top section)
const featuredOrder = ["opa", "apestd", "manos"]; // your chosen order

const featuredProjects = allProjects
  .filter(p => p.featured)
  .sort((a, b) => featuredOrder.indexOf(a.slug) - featuredOrder.indexOf(b.slug));
---

<Base title="Dor Shem Tov — Unity Game Developer">
  <section class="grid gap-8 lg:grid-cols-2 items-center">
    <div>
      <h1 class="text-4xl sm:text-5xl font-extrabold leading-tight">
        Unity Game Developer<br/>
        <span class="text-accent">C# • Mobile • PC</span>
      </h1>
<img
  src="/images/placeholders/hero-placeholder.png"
  class="zoomable"
  style="width:100%;max-width:720px;border-radius:12px;margin:24px auto;display:block;"
/>


      <p class="mt-4 text-neutral-300 max-w-xl">
        I build polished, responsive, production-ready gameplay and systems in Unity —
        blending strong programming fundamentals with UI/UX, gameplay feel, and practical design thinking.
      </p>

      <div class="mt-6 flex gap-3">
        <a class="btn" href="/projects">View Projects</a>
        <a class="btn" href="/downloads/dor-shem-tov-cv.pdf" target="_blank">Download CV</a>
        <a class="btn" href="/contact">Contact</a>
      </div>
    </div>

    <div class="card">
      <img src="images/ThatsMe.jpg" alt="Dor Shem Tov" class="rounded-xl w-full" />
    </div>
  </section>

  <section class="mt-12">
    <h2 class="text-2xl font-bold mb-4">Featured Projects</h2>

    <div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-6">
      {featuredProjects.map(p => (
        <a class="card block" href={`/projects/${p.slug}/`}>
          <img
            src={p.cover}
            alt={p.title}
            class="rounded-xl mb-3 w-full h-44 object-cover"
            loading="lazy"
          />
          <h3 class="text-lg font-semibold">{p.title}</h3>
          <p class="text-sm opacity-80">{p.summary}</p>

          <div class="mt-3 flex flex-wrap gap-2">
            {p.tags?.map(t => <span class="tag">{t}</span>)}
          </div>
        </a>
      ))}
    </div>
  </section>
</Base>
